#**CodeBook**

###Raw Data
Raw data comes from the UCI Machine Learning Repository

Download from: <http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones>

The expirement: was carried out on 30 individuals wearing the Samsung Galaxy S II on their waist while performing six activities: walking, walking upstairs, walking downstairs, sitting, standing and laying.

The recordset: 
*30 subjects seperated into two groups: 70% in the training set and 30% in the test set
*6 activities
*561 variables includes the time and frequency
*Triaxial acceleration from the accelerometer (total acceleration) and the estimated body acceleration
*Triaxial Angular velocity from the gyroscope

###Transformations
The mean aggregation of the values grouped by the subject and the activity. 


###tidyData attributes and variables
```
data.frame':  40 obs. of  68 variables:
 $ subject_id                         : int  1...30
 $ activity_name                      : char LAYING SITTING STANDING  WALKING            WALKING_DOWNSTAIRS WALKING_UPSTAIRS
 $ TimeBodyAcc_mean()_X               : num  0.276 0.274 0.275 0.277 0.278 ...
 $ TimeBodyAcc_mean()_Y               : num  -0.0164 -0.0183 -0.0138 -0.0182 -0.0159 ...
 $ TimeBodyAcc_mean()_Z               : num  -0.111 -0.107 -0.103 -0.112 -0.107 ...
 $ TimeBodyAcc_std()_X                : num  -0.445 -0.584 -0.986 -0.407 -0.668 ...
 $ TimeBodyAcc_std()_Y                : num  -0.447 -0.522 -0.943 -0.366 -0.65 ...
 $ TimeBodyAcc_std()_Z                : num  -0.523 -0.699 -0.93 -0.65 -0.604 ...
 $ TimeGravityAcc_mean()_X            : num  0.717 0.699 0.922 0.736 0.701 ...
 $ TimeGravityAcc_mean()_Y            : num  -0.2085 0.03 -0.1096 0.0435 -0.0605 ...
 $ TimeGravityAcc_mean()_Z            : num  0.1177 0.033 -0.055 -0.035 0.0402 ...
 $ TimeGravityAcc_std()_X             : num  -0.965 -0.967 -0.984 -0.965 -0.971 ...
 $ TimeGravityAcc_std()_Y             : num  -0.955 -0.961 -0.959 -0.954 -0.965 ...
 $ TimeGravityAcc_std()_Z             : num  -0.93 -0.947 -0.931 -0.949 -0.945 ...
 $ TimeBodyAccJerk_mean()_X           : num  0.077 0.0704 0.0753 0.0768 0.0775 ...
 $ TimeBodyAccJerk_mean()_Y           : num  1.79e-02 5.31e-03 3.21e-06 6.76e-03 8.84e-03 ...
 $ TimeBodyAccJerk_mean()_Z           : num  -0.018425 0.000308 -0.02076 -0.005712 -0.001437 ...
 $ TimeBodyAccJerk_std()_X            : num  -0.441 -0.582 -0.983 -0.498 -0.728 ...
 $ TimeBodyAccJerk_std()_Y            : num  -0.509 -0.571 -0.981 -0.501 -0.735 ...
 $ TimeBodyAccJerk_std()_Z            : num  -0.72 -0.793 -0.983 -0.786 -0.768 ...
 $ TimeBodyGyro_mean()_X              : num  -0.0062 -0.0629 -0.0249 -0.0273 -0.0122 ...
 $ TimeBodyGyro_mean()_Y              : num  -0.0945 -0.0592 -0.1031 -0.0762 -0.0724 ...
 $ TimeBodyGyro_mean()_Z              : num  0.0871 0.0961 0.1076 0.0876 0.073 ...
 $ TimeBodyGyro_std()_X               : num  -0.621 -0.728 -0.97 -0.629 -0.8 ...
 $ TimeBodyGyro_std()_Y               : num  -0.487 -0.735 -0.967 -0.617 -0.81 ...
 $ TimeBodyGyro_std()_Z               : num  -0.555 -0.671 -0.977 -0.674 -0.738 ...
 $ TimeBodyGyroJerk_mean()_X          : num  -0.1122 -0.0731 -0.0983 -0.0939 -0.1074 ...
 $ TimeBodyGyroJerk_mean()_Y          : num  -0.04 -0.0437 -0.0403 -0.0447 -0.0417 ...
 $ TimeBodyGyroJerk_mean()_Z          : num  -0.0545 -0.0575 -0.0551 -0.054 -0.0539 ...
 $ TimeBodyGyroJerk_std()_X           : num  -0.666 -0.71 -0.982 -0.683 -0.858 ...
 $ TimeBodyGyroJerk_std()_Y           : num  -0.739 -0.811 -0.976 -0.811 -0.87 ...
 $ TimeBodyGyroJerk_std()_Z           : num  -0.654 -0.749 -0.989 -0.752 -0.837 ...
 $ TimeBodyAccMag_mean()              : num  -0.41 -0.56 -0.958 -0.394 -0.616 ...
 $ TimeBodyAccMag_std()               : num  -0.473 -0.574 -0.942 -0.425 -0.662 ...
 $ TimeGravityAccMag_mean()           : num  -0.41 -0.56 -0.958 -0.394 -0.616 ...
 $ TimeGravityAccMag_std()            : num  -0.473 -0.574 -0.942 -0.425 -0.662 ...
 $ TimeBodyAccJerkMag_mean()          : num  -0.517 -0.63 -0.985 -0.557 -0.725 ...
 $ TimeBodyAccJerkMag_std()           : num  -0.464 -0.566 -0.978 -0.513 -0.72 ...
 $ TimeBodyGyroMag_mean()             : num  -0.427 -0.632 -0.956 -0.52 -0.718 ...
 $ TimeBodyGyroMag_std()              : num  -0.548 -0.685 -0.951 -0.59 -0.785 ...
 $ TimeBodyGyroJerkMag_mean()         : num  -0.7 -0.777 -0.983 -0.76 -0.86 ...
 $ TimeBodyGyroJerkMag_std()          : num  -0.746 -0.786 -0.974 -0.801 -0.875 ...
 $ FrequencyBodyAcc_mean()_X          : num  -0.442 -0.579 -0.984 -0.447 -0.701 ...
 $ FrequencyBodyAcc_mean()_Y          : num  -0.449 -0.523 -0.957 -0.396 -0.672 ...
 $ FrequencyBodyAcc_mean()_Z          : num  -0.59 -0.727 -0.951 -0.69 -0.661 ...
 $ FrequencyBodyAcc_std()_X           : num  -0.447 -0.587 -0.986 -0.393 -0.657 ...
 $ FrequencyBodyAcc_std()_Y           : num  -0.482 -0.553 -0.939 -0.391 -0.662 ...
 $ FrequencyBodyAcc_std()_Z           : num  -0.529 -0.71 -0.925 -0.659 -0.606 ...
 $ FrequencyBodyAccJerk_mean()_X      : num  -0.462 -0.599 -0.984 -0.527 -0.745 ...
 $ FrequencyBodyAccJerk_mean()_Y      : num  -0.525 -0.591 -0.981 -0.52 -0.749 ...
 $ FrequencyBodyAccJerk_mean()_Z      : num  -0.686 -0.775 -0.98 -0.761 -0.752 ...
 $ FrequencyBodyAccJerk_std()_X       : num  -0.469 -0.603 -0.984 -0.514 -0.735 ...
 $ FrequencyBodyAccJerk_std()_Y       : num  -0.527 -0.579 -0.983 -0.515 -0.738 ...
 $ FrequencyBodyAccJerk_std()_Z       : num  -0.754 -0.809 -0.985 -0.81 -0.782 ...
 $ FrequencyBodyGyro_mean()_X         : num  -0.563 -0.661 -0.969 -0.585 -0.79 ...
 $ FrequencyBodyGyro_mean()_Y         : num  -0.575 -0.745 -0.967 -0.691 -0.816 ...
 $ FrequencyBodyGyro_mean()_Z         : num  -0.521 -0.657 -0.978 -0.654 -0.756 ...
 $ FrequencyBodyGyro_std()_X          : num  -0.642 -0.75 -0.971 -0.645 -0.805 ...
 $ FrequencyBodyGyro_std()_Y          : num  -0.447 -0.733 -0.967 -0.583 -0.809 ...
 $ FrequencyBodyGyro_std()_Z          : num  -0.608 -0.708 -0.979 -0.712 -0.757 ...
 $ FrequencyBodyAccMag_mean()         : num  -0.444 -0.559 -0.954 -0.434 -0.667 ...
 $ FrequencyBodyAccMag_std()          : num  -0.573 -0.651 -0.945 -0.51 -0.713 ...
 $ FrequencyBodyBodyAccJerkMag_mean() : num  -0.44 -0.564 -0.979 -0.499 -0.713 ...
 $ FrequencyBodyBodyAccJerkMag_std()  : num  -0.501 -0.572 -0.977 -0.537 -0.73 ...
 $ FrequencyBodyBodyGyroMag_mean()    : num  -0.603 -0.717 -0.96 -0.663 -0.817 ...
 $ FrequencyBodyBodyGyroMag_std()     : num  -0.592 -0.719 -0.954 -0.615 -0.802 ...
 $ FrequencyBodyBodyGyroJerkMag_mean(): num  -0.741 -0.79 -0.975 -0.799 -0.873 ...
 $ FrequencyBodyBodyGyroJerkMag_std() : num  -0.771 -0.797 -0.975 -0.819 -0.887 ...
```

##About the variables
```
Feature Selection 
The features selected for this database come from the accelerometer and gyroscope 3-axial raw signals tAcc-XYZ and tGyro-XYZ. These time domain signals (prefix 't' to denote time) were captured at a constant rate of 50 Hz. Then they were filtered using a median filter and a 3rd order low pass Butterworth filter with a corner frequency of 20 Hz to remove noise. Similarly, the acceleration signal was then separated into body and gravity acceleration signals (tBodyAcc-XYZ and tGravityAcc-XYZ) using another low pass Butterworth filter with a corner frequency of 0.3 Hz. 

Subsequently, the body linear acceleration and angular velocity were derived in time to obtain Jerk signals (tBodyAccJerk-XYZ and tBodyGyroJerk-XYZ). Also the magnitude of these three-dimensional signals were calculated using the Euclidean norm (tBodyAccMag, tGravityAccMag, tBodyAccJerkMag, tBodyGyroMag, tBodyGyroJerkMag). 

Finally a Fast Fourier Transform (FFT) was applied to some of these signals producing fBodyAcc-XYZ, fBodyAccJerk-XYZ, fBodyGyro-XYZ, fBodyAccJerkMag, fBodyGyroMag, fBodyGyroJerkMag. (Note the 'f' to indicate frequency domain signals). 

These signals were used to estimate variables of the feature vector for each pattern:  
-XYZ is used to denote 3-axial signals in the X, Y and Z directions.

tBodyAcc-XYZ
tGravityAcc-XYZ
tBodyAccJerk-XYZ
tBodyGyro-XYZ
tBodyGyroJerk-XYZ
tBodyAccMag
tGravityAccMag
tBodyAccJerkMag
tBodyGyroMag
tBodyGyroJerkMag
fBodyAcc-XYZ
fBodyAccJerk-XYZ
fBodyGyro-XYZ
fBodyAccMag
fBodyAccJerkMag
fBodyGyroMag
fBodyGyroJerkMag

The set of variables that were estimated from these signals are: 

mean(): Mean value
std(): Standard deviation
mad(): Median absolute deviation 
max(): Largest value in array
min(): Smallest value in array
sma(): Signal magnitude area
energy(): Energy measure. Sum of the squares divided by the number of values. 
iqr(): Interquartile range 
entropy(): Signal entropy
arCoeff(): Autorregresion coefficients with Burg order equal to 4
correlation(): correlation coefficient between two signals
maxInds(): index of the frequency component with largest magnitude
meanFreq(): Weighted average of the frequency components to obtain a mean frequency
skewness(): skewness of the frequency domain signal 
kurtosis(): kurtosis of the frequency domain signal 
bandsEnergy(): Energy of a frequency interval within the 64 bins of the FFT of each window.
angle(): Angle between to vectors.

Additional vectors obtained by averaging the signals in a signal window sample. These are used on the angle() variable:

gravityMean
tBodyAccMean
tBodyAccJerkMean
tBodyGyroMean
tBodyGyroJerkMean
```